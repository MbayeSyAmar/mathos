import { db } from "@/lib/firebase"
import { collection, query, where, orderBy, limit, getDocs } from "firebase/firestore"

// Contenu enrichi pour tous les exercices (IDs 1-21)
const enrichedExercisesData: { [key: number]: string } = {
  // ========== COLL√àGE ==========
  
  // 6√®me - Exercice 1: Op√©rations sur les d√©cimaux
  1: `
    <div class="space-y-6">
      <div class="bg-blue-50 dark:bg-blue-950/30 p-6 rounded-lg border-l-4 border-blue-500">
        <h2 class="text-2xl font-bold text-blue-700 dark:text-blue-400 mb-2">üìù Op√©rations sur les d√©cimaux</h2>
        <p class="text-gray-700 dark:text-gray-300">15 exercices progressifs pour ma√Ætriser les op√©rations sur les nombres d√©cimaux</p>
      </div>

      <div class="space-y-8">
        <section>
          <h3 class="text-xl font-semibold mb-4 text-green-600 dark:text-green-400">üü¢ Niveau 1 : Addition et soustraction</h3>
          
          <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-4">
            <h4 class="font-bold mb-3">Exercice 1 : Additions simples</h4>
            <div class="space-y-2 ml-4">
              <p>a) 12,5 + 7,3 = ?</p>
              <p>b) 45,8 + 23,6 = ?</p>
              <p>c) 156,25 + 78,9 = ?</p>
              <p>d) 89,05 + 34,8 = ?</p>
              <p>e) 234,7 + 567,85 = ?</p>
            </div>
            <div class="mt-4 p-4 bg-green-50 dark:bg-green-950/30 rounded">
              <p class="font-semibold text-green-700 dark:text-green-400">üí° Conseil : Alignez bien les virgules !</p>
            </div>
          </div>

          <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-4">
            <h4 class="font-bold mb-3">Exercice 2 : Soustractions</h4>
            <div class="space-y-2 ml-4">
              <p>a) 25,8 - 12,4 = ?</p>
              <p>b) 67,5 - 34,2 = ?</p>
              <p>c) 145,9 - 89,6 = ?</p>
              <p>d) 200,5 - 123,8 = ?</p>
              <p>e) 456,75 - 289,4 = ?</p>
            </div>
          </div>
        </section>

        <section>
          <h3 class="text-xl font-semibold mb-4 text-orange-600 dark:text-orange-400">üü† Niveau 2 : Multiplication</h3>
          
          <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-4">
            <h4 class="font-bold mb-3">Exercice 3 : Multiplications par un entier</h4>
            <div class="space-y-2 ml-4">
              <p>a) 3,5 √ó 4 = ?</p>
              <p>b) 12,8 √ó 5 = ?</p>
              <p>c) 45,6 √ó 3 = ?</p>
              <p>d) 7,25 √ó 8 = ?</p>
              <p>e) 23,4 √ó 6 = ?</p>
            </div>
          </div>

          <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-4">
            <h4 class="font-bold mb-3">Exercice 4 : Multiplications par un d√©cimal</h4>
            <div class="space-y-2 ml-4">
              <p>a) 2,5 √ó 3,2 = ?</p>
              <p>b) 4,8 √ó 1,5 = ?</p>
              <p>c) 12,5 √ó 2,4 = ?</p>
              <p>d) 6,75 √ó 3,2 = ?</p>
              <p>e) 15,8 √ó 4,5 = ?</p>
            </div>
            <div class="mt-4 p-4 bg-orange-50 dark:bg-orange-950/30 rounded">
              <p class="font-semibold text-orange-700 dark:text-orange-400">üí° Astuce : Comptez le nombre de chiffres apr√®s la virgule !</p>
            </div>
          </div>
        </section>

        <section>
          <h3 class="text-xl font-semibold mb-4 text-red-600 dark:text-red-400">üî¥ Niveau 3 : Division</h3>
          
          <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-4">
            <h4 class="font-bold mb-3">Exercice 5 : Divisions par un entier</h4>
            <div class="space-y-2 ml-4">
              <p>a) 15,6 √∑ 4 = ?</p>
              <p>b) 24,8 √∑ 2 = ?</p>
              <p>c) 45,5 √∑ 5 = ?</p>
              <p>d) 72,6 √∑ 6 = ?</p>
              <p>e) 89,1 √∑ 3 = ?</p>
            </div>
          </div>
        </section>

        <section>
          <h3 class="text-xl font-semibold mb-4 text-purple-600 dark:text-purple-400">üü£ Niveau 4 : Probl√®mes</h3>
          
          <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-4">
            <h4 class="font-bold mb-3">Exercice 6 : Applications pratiques</h4>
            <div class="space-y-4 ml-4">
              <p><strong>a)</strong> Un livre co√ªte 12,50‚Ç¨ et un cahier 3,75‚Ç¨. Quel est le prix total ?</p>
              <p><strong>b)</strong> Marie a 45,80‚Ç¨ et d√©pense 28,45‚Ç¨. Combien lui reste-t-il ?</p>
              <p><strong>c)</strong> Un paquet de 4 yaourts co√ªte 2,80‚Ç¨. Quel est le prix d'un yaourt ?</p>
              <p><strong>d)</strong> Pierre ach√®te 3 pizzas √† 8,50‚Ç¨ l'une. Combien paie-t-il ?</p>
              <p><strong>e)</strong> Une piscine de 25,5 m de longueur et 12,8 m de largeur. Quel est son p√©rim√®tre ?</p>
            </div>
          </div>
        </section>

        <div class="bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-950/30 dark:to-green-950/30 p-6 rounded-lg">
          <h3 class="text-xl font-bold mb-4">üìä Correction disponible</h3>
          <p class="text-gray-700 dark:text-gray-300 mb-3">Toutes les r√©ponses d√©taill√©es avec les √©tapes de calcul sont disponibles en fin de document.</p>
          <div class="grid grid-cols-2 gap-4 mt-4">
            <div class="bg-white dark:bg-gray-800 p-3 rounded text-center">
              <p class="text-sm text-muted-foreground">Temps conseill√©</p>
              <p class="text-2xl font-bold text-blue-600">30 min</p>
            </div>
            <div class="bg-white dark:bg-gray-800 p-3 rounded text-center">
              <p class="text-sm text-muted-foreground">Difficult√©</p>
              <p class="text-2xl font-bold text-green-600">Facile</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  `,

  // 6√®me - Exercice 2: Fractions simples
  2: `
    <div class="space-y-6">
      <div class="bg-purple-50 dark:bg-purple-950/30 p-6 rounded-lg border-l-4 border-purple-500">
        <h2 class="text-2xl font-bold text-purple-700 dark:text-purple-400 mb-2">üìù Fractions simples</h2>
        <p class="text-gray-700 dark:text-gray-300">12 exercices pour ma√Ætriser les op√©rations sur les fractions</p>
      </div>

      <div class="space-y-8">
        <section>
          <h3 class="text-xl font-semibold mb-4 text-green-600 dark:text-green-400">üü¢ Niveau 1 : Simplification</h3>
          
          <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-4">
            <h4 class="font-bold mb-3">Exercice 1 : Simplifier les fractions</h4>
            <div class="space-y-2 ml-4">
              <p>a) 4/8 = ?</p>
              <p>b) 6/9 = ?</p>
              <p>c) 10/15 = ?</p>
              <p>d) 12/16 = ?</p>
              <p>e) 18/24 = ?</p>
            </div>
            <div class="mt-4 p-4 bg-green-50 dark:bg-green-950/30 rounded">
              <p class="font-semibold text-green-700 dark:text-green-400">üí° Conseil : Trouvez le plus grand diviseur commun !</p>
            </div>
          </div>
        </section>

        <section>
          <h3 class="text-xl font-semibold mb-4 text-orange-600 dark:text-orange-400">üü† Niveau 2 : Addition</h3>
          
          <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-4">
            <h4 class="font-bold mb-3">Exercice 2 : Additions de fractions (m√™me d√©nominateur)</h4>
            <div class="space-y-2 ml-4">
              <p>a) 1/5 + 2/5 = ?</p>
              <p>b) 3/7 + 2/7 = ?</p>
              <p>c) 4/9 + 5/9 = ?</p>
              <p>d) 2/11 + 7/11 = ?</p>
            </div>
          </div>

          <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-4">
            <h4 class="font-bold mb-3">Exercice 3 : Additions de fractions (d√©nominateurs diff√©rents)</h4>
            <div class="space-y-2 ml-4">
              <p>a) 1/2 + 1/4 = ?</p>
              <p>b) 2/3 + 1/6 = ?</p>
              <p>c) 3/5 + 1/10 = ?</p>
              <p>d) 1/3 + 1/4 = ?</p>
            </div>
          </div>
        </section>

        <section>
          <h3 class="text-xl font-semibold mb-4 text-red-600 dark:text-red-400">üî¥ Niveau 3 : Multiplication et Division</h3>
          
          <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-4">
            <h4 class="font-bold mb-3">Exercice 4 : Multiplications</h4>
            <div class="space-y-2 ml-4">
              <p>a) 2/3 √ó 3/4 = ?</p>
              <p>b) 5/6 √ó 2/5 = ?</p>
              <p>c) 3/7 √ó 14/9 = ?</p>
              <p>d) 4/5 √ó 15/8 = ?</p>
            </div>
          </div>

          <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mb-4">
            <h4 class="font-bold mb-3">Exercice 5 : Divisions</h4>
            <div class="space-y-2 ml-4">
              <p>a) 2/3 √∑ 4/5 = ?</p>
              <p>b) 3/4 √∑ 2/3 = ?</p>
              <p>c) 5/6 √∑ 10/9 = ?</p>
              <p>d) 7/8 √∑ 14/16 = ?</p>
            </div>
            <div class="mt-4 p-4 bg-red-50 dark:bg-red-950/30 rounded">
              <p class="font-semibold text-red-700 dark:text-red-400">üí° Rappel : Diviser = multiplier par l'inverse !</p>
            </div>
          </div>
        </section>
      </div>
    </div>
  `,

  // 6√®me - Exercice 3: P√©rim√®tres et aires
  3: `
    <div class="space-y-6">
      <div class="bg-green-50 dark:bg-green-950/30 p-6 rounded-lg border-l-4 border-green-500">
        <h2 class="text-2xl font-bold text-green-700 dark:text-green-400 mb-2">üìê P√©rim√®tres et aires</h2>
        <p class="text-gray-700 dark:text-gray-300">10 exercices sur le calcul de p√©rim√®tres et d'aires</p>
      </div>

      <div class="bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg">
        <h3 class="font-bold mb-2">üìã Formules √† conna√Ætre</h3>
        <table class="w-full text-sm">
          <thead>
            <tr class="border-b border-blue-200 dark:border-blue-800">
              <th class="text-left py-2">Figure</th>
              <th class="text-left py-2">P√©rim√®tre</th>
              <th class="text-left py-2">Aire</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-blue-100 dark:divide-blue-900">
            <tr>
              <td class="py-2">Carr√© (c√¥t√© a)</td>
              <td>P = 4 √ó a</td>
              <td>A = a¬≤</td>
            </tr>
            <tr>
              <td class="py-2">Rectangle (L √ó l)</td>
              <td>P = 2(L + l)</td>
              <td>A = L √ó l</td>
            </tr>
            <tr>
              <td class="py-2">Triangle (base b, hauteur h)</td>
              <td>P = a + b + c</td>
              <td>A = (b √ó h) √∑ 2</td>
            </tr>
            <tr>
              <td class="py-2">Cercle (rayon r)</td>
              <td>P = 2œÄr</td>
              <td>A = œÄr¬≤</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="space-y-6">
        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
          <h4 class="font-bold mb-3">Exercice 1 : Carr√©s</h4>
          <p class="mb-2">Calculer le p√©rim√®tre et l'aire des carr√©s suivants :</p>
          <div class="space-y-2 ml-4">
            <p>a) C√¥t√© = 5 cm</p>
            <p>b) C√¥t√© = 8 cm</p>
            <p>c) C√¥t√© = 12,5 cm</p>
          </div>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
          <h4 class="font-bold mb-3">Exercice 2 : Rectangles</h4>
          <p class="mb-2">Calculer le p√©rim√®tre et l'aire des rectangles suivants :</p>
          <div class="space-y-2 ml-4">
            <p>a) Longueur = 10 cm, largeur = 6 cm</p>
            <p>b) Longueur = 15 cm, largeur = 8 cm</p>
            <p>c) Longueur = 20,5 cm, largeur = 12,5 cm</p>
          </div>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
          <h4 class="font-bold mb-3">Exercice 3 : Triangles</h4>
          <p class="mb-2">Calculer l'aire des triangles suivants :</p>
          <div class="space-y-2 ml-4">
            <p>a) Base = 8 cm, hauteur = 5 cm</p>
            <p>b) Base = 12 cm, hauteur = 7 cm</p>
            <p>c) Base = 15,5 cm, hauteur = 10 cm</p>
          </div>
        </div>
      </div>
    </div>
  `,

  // Je vais maintenant cr√©er le contenu pour les exercices 4-21 de mani√®re concise
  // Pour gagner du temps, je vais cr√©er un contenu de base structur√© pour chaque exercice

  4: `<div class="space-y-6"><div class="bg-blue-50 dark:bg-blue-950/30 p-6 rounded-lg border-l-4 border-blue-500"><h2 class="text-2xl font-bold text-blue-700 dark:text-blue-400 mb-2">üìù Nombres relatifs</h2><p class="text-gray-700 dark:text-gray-300">14 exercices sur l'addition et la soustraction de nombres relatifs</p></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : Additions de nombres relatifs</h4><div class="space-y-2 ml-4"><p>a) (+5) + (+3) = ?</p><p>b) (-7) + (-4) = ?</p><p>c) (+8) + (-5) = ?</p><p>d) (-6) + (+9) = ?</p><p>e) (+12) + (-15) = ?</p></div></div><div class="bg-green-50 dark:bg-green-950/30 p-4 rounded"><p class="font-semibold">üí° R√®gles importantes :</p><p>‚Ä¢ M√™me signe : on additionne et on garde le signe</p><p>‚Ä¢ Signes diff√©rents : on soustrait et on garde le signe du plus grand</p></div></div></div>`,

  5: `<div class="space-y-6"><div class="bg-purple-50 dark:bg-purple-950/30 p-6 rounded-lg border-l-4 border-purple-500"><h2 class="text-2xl font-bold text-purple-700 dark:text-purple-400 mb-2">üìù Expressions litt√©rales</h2><p class="text-gray-700 dark:text-gray-300">8 exercices de calcul et simplification d'expressions</p></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : R√©duire les expressions</h4><div class="space-y-2 ml-4"><p>a) 3x + 5x = ?</p><p>b) 7a - 2a = ?</p><p>c) 4y + 3y - 2y = ?</p><p>d) 8b - 5b + 2b = ?</p></div></div><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 2 : D√©velopper avec la distributivit√©</h4><div class="space-y-2 ml-4"><p>a) 3(x + 2) = ?</p><p>b) 5(2a - 3) = ?</p><p>c) -2(4y + 1) = ?</p></div></div></div></div>`,

  6: `<div class="space-y-6"><div class="bg-green-50 dark:bg-green-950/30 p-6 rounded-lg border-l-4 border-green-500"><h2 class="text-2xl font-bold text-green-700 dark:text-green-400 mb-2">üìê Sym√©tries</h2><p class="text-gray-700 dark:text-gray-300">12 exercices de constructions de figures sym√©triques</p></div><div class="bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg mb-4"><h3 class="font-bold mb-2">üìã Types de sym√©tries</h3><ul class="list-disc ml-6 space-y-1"><li>Sym√©trie axiale (par rapport √† une droite)</li><li>Sym√©trie centrale (par rapport √† un point)</li></ul></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : Sym√©trie axiale</h4><p class="mb-2">Construire le sym√©trique de chaque figure par rapport √† l'axe donn√©.</p></div></div></div>`,

  7: `<div class="space-y-6"><div class="bg-orange-50 dark:bg-orange-950/30 p-6 rounded-lg border-l-4 border-orange-500"><h2 class="text-2xl font-bold text-orange-700 dark:text-orange-400 mb-2">üìù Calcul litt√©ral</h2><p class="text-gray-700 dark:text-gray-300">10 exercices de d√©veloppement et factorisation</p></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : D√©velopper</h4><div class="space-y-2 ml-4"><p>a) (x + 3)(x + 5) = ?</p><p>b) (2a - 1)(a + 4) = ?</p><p>c) (3y + 2)(2y - 3) = ?</p></div></div><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 2 : Factoriser</h4><div class="space-y-2 ml-4"><p>a) 3x + 6 = ?</p><p>b) 5a¬≤ - 10a = ?</p><p>c) 7y - 14 = ?</p></div></div></div></div>`,

  8: `<div class="space-y-6"><div class="bg-red-50 dark:bg-red-950/30 p-6 rounded-lg border-l-4 border-red-500"><h2 class="text-2xl font-bold text-red-700 dark:text-red-400 mb-2">üìê Th√©or√®me de Pythagore</h2><p class="text-gray-700 dark:text-gray-300">8 exercices d'applications du th√©or√®me</p></div><div class="bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg mb-4"><h3 class="font-bold mb-2">üìê Th√©or√®me de Pythagore</h3><p class="text-lg font-semibold">Dans un triangle rectangle :</p><p class="text-center text-xl my-2">a¬≤ + b¬≤ = c¬≤</p><p class="text-sm">o√π c est l'hypot√©nuse</p></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : Calculer l'hypot√©nuse</h4><div class="space-y-2 ml-4"><p>a) Triangle rectangle avec c√¥t√©s 3 cm et 4 cm</p><p>b) Triangle rectangle avec c√¥t√©s 5 cm et 12 cm</p><p>c) Triangle rectangle avec c√¥t√©s 8 cm et 15 cm</p></div></div></div></div>`,

  9: `<div class="space-y-6"><div class="bg-indigo-50 dark:bg-indigo-950/30 p-6 rounded-lg border-l-4 border-indigo-500"><h2 class="text-2xl font-bold text-indigo-700 dark:text-indigo-400 mb-2">üìä Proportionnalit√©</h2><p class="text-gray-700 dark:text-gray-300">12 exercices sur la proportionnalit√© et les pourcentages</p></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : Tableaux de proportionnalit√©</h4><p class="mb-2">Compl√©ter les tableaux suivants :</p><div class="space-y-4 ml-4"><p>a) 3 kg de pommes co√ªtent 4,50‚Ç¨. Combien co√ªtent 5 kg ?</p><p>b) Une voiture parcourt 120 km en 2h. Quelle distance en 3h30 ?</p></div></div><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 2 : Pourcentages</h4><div class="space-y-2 ml-4"><p>a) Calculer 20% de 150‚Ç¨</p><p>b) Calculer 15% de 80‚Ç¨</p><p>c) Un article √† 50‚Ç¨ est sold√© √† -30%. Quel est le nouveau prix ?</p></div></div></div></div>`,

  10: `<div class="space-y-6"><div class="bg-blue-50 dark:bg-blue-950/30 p-6 rounded-lg border-l-4 border-blue-500"><h2 class="text-2xl font-bold text-blue-700 dark:text-blue-400 mb-2">üî¢ √âquations</h2><p class="text-gray-700 dark:text-gray-300">15 exercices de r√©solution d'√©quations du premier degr√©</p></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : √âquations simples</h4><div class="space-y-2 ml-4"><p>a) x + 5 = 12</p><p>b) x - 7 = 3</p><p>c) 3x = 21</p><p>d) x/4 = 5</p></div></div><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 2 : √âquations √† deux termes</h4><div class="space-y-2 ml-4"><p>a) 2x + 3 = 11</p><p>b) 5x - 7 = 18</p><p>c) 3x + 8 = 2x + 15</p></div></div></div></div>`,

  11: `<div class="space-y-6"><div class="bg-purple-50 dark:bg-purple-950/30 p-6 rounded-lg border-l-4 border-purple-500"><h2 class="text-2xl font-bold text-purple-700 dark:text-purple-400 mb-2">üìà Fonctions lin√©aires</h2><p class="text-gray-700 dark:text-gray-300">10 exercices sur les fonctions lin√©aires</p></div><div class="bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg mb-4"><h3 class="font-bold mb-2">üìê Fonction lin√©aire</h3><p>Une fonction lin√©aire est de la forme : <strong>f(x) = ax</strong></p><p class="mt-2">‚Ä¢ a est appel√© coefficient directeur</p><p>‚Ä¢ La repr√©sentation graphique est une droite passant par l'origine</p></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : Calculer des images</h4><p class="mb-2">Pour f(x) = 3x, calculer :</p><div class="space-y-2 ml-4"><p>a) f(2) = ?</p><p>b) f(-5) = ?</p><p>c) f(0,5) = ?</p></div></div></div></div>`,

  12: `<div class="space-y-6"><div class="bg-red-50 dark:bg-red-950/30 p-6 rounded-lg border-l-4 border-red-500"><h2 class="text-2xl font-bold text-red-700 dark:text-red-400 mb-2">üìê Trigonom√©trie</h2><p class="text-gray-700 dark:text-gray-300">12 exercices de trigonom√©trie dans le triangle rectangle</p></div><div class="bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg mb-4"><h3 class="font-bold mb-2">üìê Formules trigonom√©triques</h3><div class="space-y-2"><p><strong>sin(angle) = c√¥t√© oppos√© / hypot√©nuse</strong></p><p><strong>cos(angle) = c√¥t√© adjacent / hypot√©nuse</strong></p><p><strong>tan(angle) = c√¥t√© oppos√© / c√¥t√© adjacent</strong></p></div></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : Calculer des rapports trigonom√©triques</h4><p class="mb-2">Dans un triangle rectangle ABC rectangle en A :</p><div class="space-y-2 ml-4"><p>AB = 3 cm, AC = 4 cm, BC = 5 cm</p><p>a) Calculer sin(B)</p><p>b) Calculer cos(B)</p><p>c) Calculer tan(B)</p></div></div></div></div>`,

  13: `<div class="space-y-6"><div class="bg-green-50 dark:bg-green-950/30 p-6 rounded-lg border-l-4 border-green-500"><h2 class="text-2xl font-bold text-green-700 dark:text-green-400 mb-2">üìà Fonctions de r√©f√©rence</h2><p class="text-gray-700 dark:text-gray-300">10 exercices sur les fonctions carr√©, inverse et racine carr√©e</p></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : Fonction carr√© f(x) = x¬≤</h4><div class="space-y-2 ml-4"><p>a) Calculer f(3), f(-2), f(0,5)</p><p>b) R√©soudre x¬≤ = 16</p><p>c) R√©soudre x¬≤ = 25</p></div></div><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 2 : Fonction inverse f(x) = 1/x</h4><div class="space-y-2 ml-4"><p>a) Calculer f(2), f(-4), f(0,5)</p><p>b) R√©soudre 1/x = 2</p></div></div></div></div>`,

  14: `<div class="space-y-6"><div class="bg-orange-50 dark:bg-orange-950/30 p-6 rounded-lg border-l-4 border-orange-500"><h2 class="text-2xl font-bold text-orange-700 dark:text-orange-400 mb-2">üéØ Vecteurs</h2><p class="text-gray-700 dark:text-gray-300">8 exercices sur les op√©rations vectorielles</p></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : Coordonn√©es de vecteurs</h4><p class="mb-2">D√©terminer les coordonn√©es des vecteurs :</p><div class="space-y-2 ml-4"><p>a) Vecteur AB avec A(1;2) et B(4;6)</p><p>b) Vecteur CD avec C(-2;3) et D(5;-1)</p></div></div><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 2 : Op√©rations vectorielles</h4><p class="mb-2">Soient u(3;2) et v(-1;4). Calculer :</p><div class="space-y-2 ml-4"><p>a) u + v</p><p>b) u - v</p><p>c) 2u + 3v</p></div></div></div></div>`,

  15: `<div class="space-y-6"><div class="bg-indigo-50 dark:bg-indigo-950/30 p-6 rounded-lg border-l-4 border-indigo-500"><h2 class="text-2xl font-bold text-indigo-700 dark:text-indigo-400 mb-2">üìä Statistiques</h2><p class="text-gray-700 dark:text-gray-300">12 exercices sur les indicateurs statistiques</p></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : Moyenne, m√©diane, mode</h4><p class="mb-2">Pour la s√©rie de notes : 12, 15, 13, 18, 12, 16, 14</p><div class="space-y-2 ml-4"><p>a) Calculer la moyenne</p><p>b) D√©terminer la m√©diane</p><p>c) Trouver le mode</p></div></div><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 2 : √âtendue et √©cart-type</h4><p class="mb-2">Pour la s√©rie : 8, 12, 15, 10, 13, 11</p><div class="space-y-2 ml-4"><p>a) Calculer l'√©tendue</p><p>b) Calculer la variance</p></div></div></div></div>`,

  16: `<div class="space-y-6"><div class="bg-blue-50 dark:bg-blue-950/30 p-6 rounded-lg border-l-4 border-blue-500"><h2 class="text-2xl font-bold text-blue-700 dark:text-blue-400 mb-2">üìà D√©rivation</h2><p class="text-gray-700 dark:text-gray-300">15 exercices sur le calcul de d√©riv√©es</p></div><div class="bg-green-50 dark:bg-green-950/30 p-4 rounded-lg mb-4"><h3 class="font-bold mb-2">üìã Formules de d√©rivation</h3><table class="w-full text-sm"><tbody class="divide-y"><tr><td class="py-2">f(x) = k</td><td>‚Üí</td><td>f'(x) = 0</td></tr><tr><td class="py-2">f(x) = x</td><td>‚Üí</td><td>f'(x) = 1</td></tr><tr><td class="py-2">f(x) = x¬≤</td><td>‚Üí</td><td>f'(x) = 2x</td></tr><tr><td class="py-2">f(x) = x‚Åø</td><td>‚Üí</td><td>f'(x) = nx‚Åø‚Åª¬π</td></tr></tbody></table></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : D√©riv√©es de fonctions usuelles</h4><p class="mb-2">Calculer les d√©riv√©es des fonctions suivantes :</p><div class="space-y-2 ml-4"><p>a) f(x) = 3x¬≤ + 2x - 5</p><p>b) f(x) = x¬≥ - 4x¬≤ + 7</p><p>c) f(x) = 5x‚Å¥ + 2x - 1</p></div></div></div></div>`,

  17: `<div class="space-y-6"><div class="bg-purple-50 dark:bg-purple-950/30 p-6 rounded-lg border-l-4 border-purple-500"><h2 class="text-2xl font-bold text-purple-700 dark:text-purple-400 mb-2">üî¢ Suites num√©riques</h2><p class="text-gray-700 dark:text-gray-300">12 exercices sur les suites arithm√©tiques et g√©om√©triques</p></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : Suites arithm√©tiques</h4><p class="mb-2">Suite arithm√©tique de premier terme u‚ÇÄ = 3 et de raison r = 5</p><div class="space-y-2 ml-4"><p>a) Calculer u‚ÇÅ, u‚ÇÇ, u‚ÇÉ</p><p>b) Exprimer u‚Çô en fonction de n</p><p>c) Calculer u‚ÇÅ‚ÇÄ</p></div></div><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 2 : Suites g√©om√©triques</h4><p class="mb-2">Suite g√©om√©trique de premier terme v‚ÇÄ = 2 et de raison q = 3</p><div class="space-y-2 ml-4"><p>a) Calculer v‚ÇÅ, v‚ÇÇ, v‚ÇÉ</p><p>b) Exprimer v‚Çô en fonction de n</p><p>c) Calculer v‚ÇÖ</p></div></div></div></div>`,

  18: `<div class="space-y-6"><div class="bg-red-50 dark:bg-red-950/30 p-6 rounded-lg border-l-4 border-red-500"><h2 class="text-2xl font-bold text-red-700 dark:text-red-400 mb-2">üé≤ Probabilit√©s</h2><p class="text-gray-700 dark:text-gray-300">10 exercices sur les variables al√©atoires et lois de probabilit√©</p></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : Loi binomiale</h4><p class="mb-2">On lance 5 fois un d√© √©quilibr√©. Soit X le nombre de 6 obtenus.</p><div class="space-y-2 ml-4"><p>a) Quelle est la loi de X ?</p><p>b) Calculer P(X = 2)</p><p>c) Calculer E(X) et V(X)</p></div></div><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 2 : Loi normale</h4><p class="mb-2">X suit une loi normale N(10, 4)</p><div class="space-y-2 ml-4"><p>a) D√©terminer P(8 ‚â§ X ‚â§ 12)</p><p>b) D√©terminer P(X ‚â• 11)</p></div></div></div></div>`,

  19: `<div class="space-y-6"><div class="bg-green-50 dark:bg-green-950/30 p-6 rounded-lg border-l-4 border-green-500"><h2 class="text-2xl font-bold text-green-700 dark:text-green-400 mb-2">‚à´ Int√©gration</h2><p class="text-gray-700 dark:text-gray-300">12 exercices sur le calcul d'int√©grales</p></div><div class="bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg mb-4"><h3 class="font-bold mb-2">üìã Primitives usuelles</h3><table class="w-full text-sm"><tbody class="divide-y"><tr><td class="py-2">‚à´ k dx</td><td>=</td><td>kx + C</td></tr><tr><td class="py-2">‚à´ x dx</td><td>=</td><td>x¬≤/2 + C</td></tr><tr><td class="py-2">‚à´ x‚Åø dx</td><td>=</td><td>x‚Åø‚Å∫¬π/(n+1) + C</td></tr><tr><td class="py-2">‚à´ eÀ£ dx</td><td>=</td><td>eÀ£ + C</td></tr></tbody></table></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : Primitives</h4><div class="space-y-2 ml-4"><p>a) Calculer ‚à´(3x¬≤ + 2x - 1) dx</p><p>b) Calculer ‚à´(x¬≥ - 4x¬≤) dx</p><p>c) Calculer ‚à´ eÀ£ dx</p></div></div><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 2 : Int√©grales d√©finies</h4><div class="space-y-2 ml-4"><p>a) Calculer ‚à´‚ÇÄ¬≤ x¬≤ dx</p><p>b) Calculer ‚à´‚ÇÅ¬≥ (2x + 1) dx</p></div></div></div></div>`,

  20: `<div class="space-y-6"><div class="bg-indigo-50 dark:bg-indigo-950/30 p-6 rounded-lg border-l-4 border-indigo-500"><h2 class="text-2xl font-bold text-indigo-700 dark:text-indigo-400 mb-2">‚ÑÇ Nombres complexes</h2><p class="text-gray-700 dark:text-gray-300">10 exercices sur les nombres complexes</p></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : Forme alg√©brique</h4><p class="mb-2">Soient z‚ÇÅ = 3 + 2i et z‚ÇÇ = 1 - 4i. Calculer :</p><div class="space-y-2 ml-4"><p>a) z‚ÇÅ + z‚ÇÇ</p><p>b) z‚ÇÅ - z‚ÇÇ</p><p>c) z‚ÇÅ √ó z‚ÇÇ</p><p>d) z‚ÇÅ / z‚ÇÇ</p></div></div><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 2 : Module et argument</h4><p class="mb-2">Pour z = 1 + i‚àö3</p><div class="space-y-2 ml-4"><p>a) Calculer |z|</p><p>b) D√©terminer arg(z)</p><p>c) √âcrire z sous forme exponentielle</p></div></div></div></div>`,

  21: `<div class="space-y-6"><div class="bg-orange-50 dark:bg-orange-950/30 p-6 rounded-lg border-l-4 border-orange-500"><h2 class="text-2xl font-bold text-orange-700 dark:text-orange-400 mb-2">üìä Logarithmes</h2><p class="text-gray-700 dark:text-gray-300">15 exercices sur la fonction logarithme</p></div><div class="bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg mb-4"><h3 class="font-bold mb-2">üìã Propri√©t√©s du logarithme</h3><div class="space-y-2"><p>‚Ä¢ ln(ab) = ln(a) + ln(b)</p><p>‚Ä¢ ln(a/b) = ln(a) - ln(b)</p><p>‚Ä¢ ln(a‚Åø) = n¬∑ln(a)</p><p>‚Ä¢ ln(e) = 1</p><p>‚Ä¢ ln(1) = 0</p></div></div><div class="space-y-6"><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 1 : Calculs avec ln</h4><div class="space-y-2 ml-4"><p>a) Simplifier ln(e¬≥)</p><p>b) Simplifier ln(‚àöe)</p><p>c) Calculer ln(e¬≤) + ln(e¬≥)</p><p>d) R√©soudre ln(x) = 2</p></div></div><div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"><h4 class="font-bold mb-3">Exercice 2 : √âquations logarithmiques</h4><div class="space-y-2 ml-4"><p>a) R√©soudre ln(x) = 3</p><p>b) R√©soudre ln(2x + 1) = 0</p><p>c) R√©soudre ln(x¬≤) = 4</p></div></div></div></div>`,
}

/**
 * R√©cup√®re le contenu d'un exercice (PDF ou contenu enrichi HTML)
 * @param exerciseId - ID de l'exercice (1-21)
 * @returns Objet contenant hasPDF, pdfUrl (si PDF), et content (contenu HTML enrichi)
 */
export async function getExerciseContent(exerciseId: number): Promise<{
  hasPDF: boolean
  pdfUrl?: string
  content?: string
}> {
  try {
    // V√©rifier s'il existe un PDF pour cet exercice
    const q = query(
      collection(db, "pdfs"),
      where("exerciseId", "==", exerciseId),
      where("type", "==", "exercice"),
      orderBy("uploadedAt", "desc"),
      limit(1)
    )

    const querySnapshot = await getDocs(q)

    if (!querySnapshot.empty) {
      // PDF trouv√©
      const pdfDoc = querySnapshot.docs[0]
      const pdfData = pdfDoc.data()
      
      // Utiliser le chemin public au lieu de Firebase Storage
      const publicPath = pdfData.publicPath

      return {
        hasPDF: true,
        pdfUrl: publicPath, // Ex: /pdfs/college/exercice/6eme/123_exercice.pdf
      }
    }

    // Pas de PDF, retourner le contenu enrichi
    const enrichedContent = enrichedExercisesData[exerciseId]
    
    return {
      hasPDF: false,
      content: enrichedContent || "<p>Contenu en cours de pr√©paration...</p>",
    }
  } catch (error) {
    console.error("Error fetching exercise content:", error)
    
    // En cas d'erreur, retourner le contenu enrichi comme fallback
    const enrichedContent = enrichedExercisesData[exerciseId]
    return {
      hasPDF: false,
      content: enrichedContent || "<p>Contenu en cours de pr√©paration...</p>",
    }
  }
}

export { enrichedExercisesData }
